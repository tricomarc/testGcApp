<ion-header box-shadow>
    <ion-navbar>
    <div buy>
        <ion-title><span ion-text color="primary">{{module}}</span></ion-title>
    </div>
    <ion-buttons end right>
            <button ion-button icon-only (click)="showVisitActionSheet()">
                <ion-icon name="more" color="primary"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content>
  <ion-row>
    <ion-col no-padding>
        <ion-list-header box-shadow no-margin no-lines>
          <h1 ion-text color="primary" header-title>Visitas finalizadas</h1>
        </ion-list-header>
    </ion-col>
  </ion-row>
    <ion-list *ngIf="sucursalSeleccionada != null && sucursalSeleccionada != undefined">
        <ion-item margin-top text-wrap text-center no-lines *ngIf="finalizadas.length == 0">
            <p>No tienes visitas finalizadas.</p>
        </ion-item>
        <ion-item no-lines class="custom-bb" *ngFor="let finalizada of finalizadas" >
            <ion-item class="custom-bb" text-wrap no-lines (click)="navigateToDetails(sucursalSeleccionada, actionSeleccionado, finalizada.id, finalizada.checklist_id)">
                <h2 ion-text color="primary"><b>{{finalizada.nombre}}</b></h2>
                <p><b>Estado: </b> {{finalizada.nombre_estado}}</p>
                <p><b>Fecha de envío: </b> {{finalizada.fecha | date: "dd-MM-yyyy"}} a las {{finalizada.fecha | date: "HH:mm"}} hrs.</p>
                <ion-icon name='ios-arrow-forward' item-end color="default" class="icon-lg" ></ion-icon>
            </ion-item>
        </ion-item>
    </ion-list>

    <ion-list *ngIf="(sucursalSeleccionada == null || sucursalSeleccionada == undefined) && checklist && checklist.ambitos ">
        <ion-item margin-top text-wrap text-center no-lines *ngIf="checklist.ambitos.length == 0">
            <p>No tienes checklists finalizadas.</p>
        </ion-item>
        <ion-item no-lines class="custom-bb" *ngFor="let finalizada of checklist.ambitos">
            <ion-item class="custom-bb" text-wrap no-lines (click)="navigateToDetails(sucursalSeleccionada, actionSeleccionado, finalizada.id, finalizada.checklist_id)">
                <h2 ion-text color="primary"><b>{{finalizada.nombre}}</b></h2>
                <p><b>Estado: </b> {{finalizada.nombre_estado}}</p>
                <p><b>Fecha de envío: </b> {{finalizada.fecha | date: "dd-MM-yyyy"}} a las {{finalizada.fecha | date: "HH:mm"}} hrs.</p>
                <ion-icon name='ios-arrow-forward' item-end color="default" class="icon-lg" ></ion-icon>
            </ion-item>
        </ion-item>
    </ion-list>

    <!-- <ion-list>
        <ion-item margin-top text-wrap text-center no-lines *ngIf="finalizadas.length == 0">
            <p>No tienes visitas finalizadas.</p>
        </ion-item>
        <ion-item no-lines class="custom-bb" *ngFor="let finalizada of finalizadas" >
            <ion-item class="custom-bb" text-wrap no-lines (click)="navigateToDetails(sucursalSeleccionada, actionSeleccionado, finalizada.id, finalizada.checklist_id)">
                <h2 ion-text color="primary"><b>{{finalizada.nombre}}</b></h2>
                <p><b>Estado: </b> {{finalizada.nombre_estado}}</p>
                <p><b>Fecha de envío: </b> {{finalizada.fecha | date: "dd-MM-yyyy"}} a las {{finalizada.fecha | date: "HH:mm"}} hrs.</p>
                <ion-icon name='ios-arrow-forward' item-end color="default" class="icon-lg" ></ion-icon>
            </ion-item>
        </ion-item>
    </ion-list> -->
</ion-content>