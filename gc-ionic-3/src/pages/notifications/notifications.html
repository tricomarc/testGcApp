<!--
  Generated template for the NotificationsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-toolbar box-shadow>
        <button ion-button menuToggle>
            <ion-icon icon-menu name="menu" color="primary"></ion-icon>
          </button>
      <ion-title>Notificaciones</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-content padding>
    <ion-grid no-padding>
      <ion-row>
        <ion-col col-12>
          <ng-template #templatenoData>
            <div style="width: 100%; text-align: center;">
                <p>No hay notificaciones</p>
            </div>
          </ng-template>

          <ion-list no-margin *ngIf="!notificationList.noData; else templatenoData">

            <!-- Grupo Hoy -->
            <ng-container *ngIf="notificationList.hoy && notificationList.hoy.length > 0">
              <ion-item-divider text-capitalize no-margin no-lines header-title ion-affix>
                <ion-label color="primary">Hoy</ion-label>
              </ion-item-divider>
            
              <ion-item border no-lines text-wrap *ngFor="let item of notificationList.hoy" (click)="openPage(item)">
                <strong text-uppercase>{{item.titulo}}</strong>
                <p>{{item.mensaje}}</p>
                <ion-icon icon-small item-right 
                [ngClass]="item._matchingData.NotificacionUsuario.leida? 'read' : 'unread '"
                *ngIf=" item._matchingData && !item._matchingData.NotificacionUsuario.leida">
                  <i class="icon icon-checkbox-blank-circle"></i>
                </ion-icon>
                <ion-icon icon-small item-right>
                  <i class="icon icon-chevron-right"></i>
                </ion-icon>
                <ion-note>{{item.created | date: 'hh:mm'}}</ion-note>
              </ion-item>
            
            </ng-container>
            
            <!-- Grupo ultima semana -->
            <ng-container *ngIf="notificationList.lastWeek && notificationList.lastWeek.length > 0">
              <ion-item-divider text-capitalize no-margin no-lines header-title ion-affix>
                <ion-label color="primary">Última semana</ion-label>
              </ion-item-divider>
            
              <ion-item border no-lines text-wrap *ngFor="let item of notificationList.lastWeek"  (click)="openPage(item)">
                <strong text-uppercase>{{item.titulo}}</strong>
                <p>{{item.mensaje}}</p>
                <ion-icon icon-small item-right 
                [ngClass]="item._matchingData.NotificacionUsuario.leida? 'read' : 'unread '"
                *ngIf="item._matchingData && !item._matchingData.NotificacionUsuario.leida">
                  <i class="icon icon-checkbox-blank-circle"></i>
                </ion-icon>
                <ion-icon icon-small item-right>
                  <i class="icon icon-chevron-right"></i>
                </ion-icon>
                <ion-note>{{item.created | date: 'dd-MM-yyyy hh:mm'}}</ion-note>
              </ion-item>
            
            </ng-container> 

                        
            <!-- Grupo ultimo mes -->
            <ng-container *ngIf="notificationList.lastMonth && notificationList.lastMonth.length > 0">
              <ion-item-divider text-capitalize no-margin no-lines header-title ion-affix>
                <ion-label color="primary">Último mes</ion-label>
              </ion-item-divider>
            
              <ion-item border no-lines text-wrap *ngFor="let item of notificationList.lastMonth"  (click)="openPage(item)">
                <strong text-uppercase>{{item.titulo}}</strong>
                <p>{{item.mensaje}}</p>
                <ion-icon icon-small item-right
                [ngClass]="item._matchingData.NotificacionUsuario.leida? 'read' : 'unread '"
                *ngIf="item._matchingData && !item._matchingData.NotificacionUsuario.leida">
                  <i class="icon icon-checkbox-blank-circle"></i>
                </ion-icon>
                <ion-icon icon-small item-right>
                  <i class="icon icon-chevron-right"></i>
                </ion-icon>
                <ion-note>{{item.created | date: 'dd-MM-yyyy hh:mm'}}</ion-note>
              </ion-item>
            </ng-container>


            <!-- Grupo ultimo año -->
            <ng-container *ngIf="notificationList.lastYear && notificationList.lastYear.length > 0">
              <ion-item-divider text-capitalize no-margin no-lines header-title ion-affix>
                <ion-label color="primary">Último año</ion-label>
              </ion-item-divider>
            
              <ion-item border no-lines text-wrap *ngFor="let item of notificationList.lastMonth"  (click)="openPage(item)">
                <strong text-uppercase>{{item.titulo}}</strong>
                <p>{{item.mensaje}}</p>
                <ion-icon icon-small item-right
                [ngClass]="item._matchingData.NotificacionUsuario.leida? 'read' : 'unread '"
                *ngIf="item._matchingData && !item._matchingData.NotificacionUsuario.leida">
                  <i class="icon icon-checkbox-blank-circle"></i>
                </ion-icon>
                <ion-icon icon-small item-right>
                  <i class="icon icon-chevron-right"></i>
                </ion-icon>
                <ion-note>{{item.created | date: 'dd-MM-yyyy hh:mm'}}</ion-note>
              </ion-item>
            </ng-container>
              
          </ion-list>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-content>
  